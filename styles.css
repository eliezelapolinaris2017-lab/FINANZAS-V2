/* =========================================================
   Nexus Finance — styles.css (COMPLETO)
   Tema oscuro profesional con acento dorado
   ========================================================= */

:root{
  --primary: #0b0b0e;    /* fondo */
  --primary-2:#0f1116;
  --card:    #10131a;
  --line:    #161b27;
  --text:    #ffffff;
  --muted:   #a9afbf;

  --accent:  #C7A24B;    /* dorado */
  --accent-2:#b8943e;

  --success: #2fbf71;
  --danger:  #f05454;
  --warning: #f3a712;

  --shadow:  rgba(0,0,0,.45);
}

/* ===== Reset / Base ===== */
*{ box-sizing: border-box; }
html,body{ height:100%; }
html{ scroll-behavior:smooth; }
body{
  margin:0;
  background: var(--primary);
  color: var(--text);
  font: 14px/1.45 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial;
}

/* ===== Utilidades ===== */
.row{ display:flex; align-items:center; gap:10px; }
.row.end{ justify-content:flex-end; }
.row.center{ justify-content:center; }
.g{ gap:10px; }
.grow{ flex:1 1 auto; }

.grid{ display:grid; grid-template-columns: repeat(12, 1fr); gap:16px; }
.grid > .card{ grid-column: span 12; }
@media (min-width: 900px){
  .grid > .card{ grid-column: span 4; }
}
.grid2{ display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:12px; }
.grid2 .full{ grid-column: 1 / -1; }
.divider{ height:1px; background:linear-gradient(90deg, transparent, var(--line), transparent); grid-column: 1 / -1; }

/* ===== Sidebar ===== */
.sidebar{
  position: fixed; inset: 0 auto 0 0; width:280px;
  background: linear-gradient(180deg, #0d0f14, #0b0b0e);
  border-right: 1px solid #0f1320;
  box-shadow: 8px 0 20px -12px var(--shadow);
  padding:16px 12px; z-index: 40; overflow:auto;
}
.brand{
  display:flex; align-items:center; gap:10px; padding:8px 6px 14px;
  border-bottom:1px dashed #141827;
}
.brand img{ width:42px; height:42px; object-fit:contain; filter: drop-shadow(0 0 8px rgba(199,162,75,.25)); }
.brand-info strong{ letter-spacing:.2px; }
.brand-info small{ color:var(--muted); }

.menu{ padding-top:12px; display:flex; flex-direction:column; gap:6px; }
.nav-btn{
  width:100%; text-align:left; padding:10px 12px; border:1px solid #151a26; background:#0f1218;
  color:#e7e9ee; border-radius:10px; cursor:pointer;
  transition:.18s transform, .18s background, .18s border-color, .18s color, .18s box-shadow;
  font-weight:600; display:flex; gap:10px; align-items:center;
}
.nav-btn:hover{ background:#131826; border-color:#1b2233; box-shadow: inset 0 0 0 1px #1b2233, 0 0 0 1px #0a0d14, 0 0 18px -10px var(--accent); }
.nav-btn.active{
  background: linear-gradient(180deg, #171c2b, #111625);
  border-color: rgba(199,162,75,.38);
  box-shadow: 0 0 0 1px rgba(199,162,75,.4), inset 0 0 0 1px rgba(199,162,75,.25);
  color:#fff;
}

/* ===== Topbar ===== */
.topbar{
  position: sticky; top:0; z-index:30;
  display:flex; align-items:center; gap:12px;
  padding:10px 16px; background: linear-gradient(180deg, #0f131b, #0b0e14e6);
  border-bottom:1px solid #101521; backdrop-filter: blur(6px);
}
.menu-toggle{ display:none; }
.cloud{ display:flex; gap:8px; align-items:center; }
.muted{ color:var(--muted); }

/* ===== Main ===== */
.main{ margin-left:280px; padding:16px; min-height:100dvh; }
@media (max-width: 900px){
  .main{ margin-left:0; }
  .sidebar{ transform: translateX(-100%); transition:.25s transform; }
  .sidebar.open{ transform: translateX(0); }
  .menu-toggle{ display:inline-flex; }
}

/* ===== Vistas SPA ===== */
.view{ display:none; }
.view.visible{ display:block; }

/* ===== Cards ===== */
.card{
  background: linear-gradient(180deg, var(--card), #0f1217);
  border:1px solid #151a21; border-radius:12px; padding:14px;
  box-shadow: 0 2px 16px -8px var(--shadow), inset 0 0 0 1px rgba(255,255,255,.02);
}
.card-title{
  font-weight:800; letter-spacing:.3px; margin-bottom:10px;
  color:#eaecef;
}

/* ===== Botones ===== */
.btn, .btn-outline{
  padding:10px 14px; border-radius:10px; font-weight:700; cursor:pointer; border:1px solid transparent;
  transition:.18s transform, .18s background, .18s color, .18s border-color, .18s box-shadow;
}
.btn{
  background: linear-gradient(180deg, var(--accent), var(--accent-2)); color:#111; border-color: #bb9b45;
  text-shadow: 0 0 0 rgba(0,0,0,0);
}
.btn:hover{ transform: translateY(-1px); box-shadow: 0 8px 24px -16px var(--accent); }
.btn:active{ transform: translateY(0); }

.btn-outline{
  background: #0f1218; color:#e7e9ee; border-color:#1b2131;
}
.btn-outline:hover{
  border-color: rgba(199,162,75,.45);
  box-shadow: inset 0 0 0 1px rgba(199,162,75,.18), 0 6px 18px -14px var(--accent);
}

/* ===== Inputs ===== */
input, select, textarea{
  width:100%; padding:10px 12px; border-radius:10px;
  background:#0d1016; color:#e7e9ee; border:1px solid #161b28; outline:none;
  transition:.15s border-color, .15s box-shadow, .15s background;
}
input::placeholder, textarea::placeholder{ color:#8892a6; }
input:focus, select:focus, textarea:focus{
  border-color: rgba(199,162,75,.5);
  box-shadow: 0 0 0 2px rgba(199,162,75,.15);
}

/* ===== Tablas ===== */
.table-wrap{ width:100%; overflow:auto; border-radius:10px; border:1px solid #151a21; }
.table{
  width:100%; border-collapse: collapse; min-width:800px; background:#0b0e14;
}
.table thead th{
  position:sticky; top:0; z-index:1;
  background:#111624; color:#dfe3ec;
  border-bottom:1px solid #1b2131; padding:10px; text-align:left; font-weight:800;
}
.table tbody td{
  border-bottom:1px solid #121722; padding:10px; color:#dee2ee;
}
.table tbody tr:hover{ background:#0e1321; }
.row-actions{ display:flex; gap:6px; }

/* ===== KPIs / Pills ===== */
.kpi{
  font-size:26px; font-weight:900; letter-spacing:.2px;
  color:#fff; text-shadow: 0 0 20px rgba(199,162,75,.08);
}
.pills{ display:flex; gap:8px; flex-wrap:wrap; }
.pill{
  padding:7px 10px; border-radius:999px; font-weight:700; font-size:12px;
  background: #101526; color:#e9ecf4; border:1px solid rgba(199,162,75,.28);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.02), 0 0 0 1px rgba(10,13,20,.6);
}

/* ===== Presupuestos ===== */
.budget{
  border:1px solid #151a21; border-radius:12px; padding:12px; background:#10141c;
}
.budget.over{ border-color: rgba(240,84,84,.45); box-shadow: inset 0 0 0 1px rgba(240,84,84,.15); }
.meter{ width:100%; height:10px; background:#0d1119; border:1px solid #151a21; border-radius:999px; overflow:hidden; }
.meter span{ display:block; height:100%; background: linear-gradient(90deg, var(--accent), #e7c77a); }

/* ===== Logo preview ===== */
.logo-preview{ width:120px; height:120px; object-fit:contain; border:1px dashed #21263a; border-radius:10px; background:#0c1017; }

/* ===== Toasts ===== */
#toastContainer{
  position: fixed; right:18px; bottom:18px; z-index: 99999;
  display:flex; flex-direction:column; gap:8px;
}
.toast{
  background: #0f1320; color:#f7f8fb; border:1px solid rgba(199,162,75,.35);
  border-radius:10px; padding:10px 12px; box-shadow: 0 12px 28px -24px var(--shadow);
  transition:.25s opacity;
}

/* ===== Login pantalla completa ===== */
.fullscreen-login{
  position: fixed; inset:0; z-index: 9999;
  background: radial-gradient(1000px 600px at 30% -10%, rgba(199,162,75,.05), transparent 40%),
              radial-gradient(1000px 600px at 100% 0%, rgba(199,162,75,.06), transparent 45%),
              rgba(10,12,16,.94);
  backdrop-filter: blur(2.5px);
  display:flex; align-items:center; justify-content:center;
}
.login-wrap{ width: min(520px, 92vw); }
.login-card{
  background: linear-gradient(180deg, #121726, #0d111b);
  border:1px solid rgba(199,162,75,.28);
  box-shadow: 0 16px 48px -28px rgba(199,162,75,.35), inset 0 0 0 1px rgba(255,255,255,.02);
}

/* ===== Inputs dentro de tablas (ítems factura/cotización) ===== */
.table input{
  background:#0b0f18; border-color:#151b29; border-radius:8px; padding:8px;
}
.table input:focus{ border-color: rgba(199,162,75,.5); box-shadow: 0 0 0 2px rgba(199,162,75,.14); }

/* ===== Scrollbar (WebKit) ===== */
*::-webkit-scrollbar{ height:10px; width:10px; }
*::-webkit-scrollbar-thumb{
  background: #1a1f2d; border:2px solid #0c0f18; border-radius:999px;
}
*::-webkit-scrollbar-thumb:hover{ background:#23293b; }

/* ===== Inputs de color en Configuración ===== */
input[type="color"]{
  padding:0; height:40px; cursor:pointer; background:#0e121a;
  border:1px solid #1b2131; border-radius:8px;
}

/* ===== Enlaces ===== */
a{ color:#f2d088; text-decoration:none; }
a:hover{ text-decoration:underline; }

/* ===== Ajustes responsive ===== */
@media (max-width: 900px){
  .grid{ grid-template-columns: 1fr; }
  .grid > .card{ grid-column: 1 / -1; }
  .grid2{ grid-template-columns: 1fr; }
}

/* ===== Estilos de impresión (si se abre una ventana para imprimir) ===== */
@media print{
  body{ background:#fff; color:#000; }
  .sidebar, .topbar, #toastContainer{ display:none !important; }
  .main{ margin:0; padding:0; }
  .card{ border:1px solid #000 !important; box-shadow:none !important; background:#fff !important; }
  .table{ color:#000; }
  .table thead th{ background:#eee !important; color:#000 !important; border-color:#000 !important; }
  .table tbody td{ border-color:#000 !important; }
}

/* ===== Sutileza de brillo en bordes ===== */
.card,
.table-wrap,
input, select, textarea,
.nav-btn,
.btn-outline{
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,.02),
    0 0 0 1px rgba(10,13,20,.35);
}

/* ===== Campos de Retenciones (toque visual) ===== */
#payGross, #payRetISR, #payRetSS, #payRetOther, #payNet{
  background:#0d1118;
  border-color:#161c2b;
}
#payNet[readonly]{
  background:#0e1220;
  color:#e9f0ff;
  border-color: rgba(199,162,75,.35);
}

/* ===== Botón PDF rápido en topbar ===== */
#printBtn.btn{ padding:8px 12px; }

/* ===== Separación vertical suave en formularios ===== */
.card .row.g + .row.g{ margin-top:8px; }
